/* ng-infinite-scroll - v1.1.2 - 2014-12-03 */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$timeout","THROTTLE_MILLISECONDS",function(n,e,i,l){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollTop:"=",infiniteScrollCustom:"@"},link:function(t,o,r){var c,u,f,a,m,s,S,d,p,$,v,g,h,T,w,D,C,E;return C=angular.element(e),h=null,T=null,u=null,f=null,$=!0,D=!1,p=function(n){return n=n[0]||n,isNaN(n.offsetHeight)?n.document.documentElement.clientHeight:n.offsetHeight},v=function(n){return n[0].getBoundingClientRect&&!n.css("none")?n[0].getBoundingClientRect().top+g(n):void 0},g=function(n){return n=n[0]||n,isNaN(window.pageYOffset)?n.document.documentElement.scrollTop:n.ownerDocument.defaultView.pageYOffset},d=function(){var e,i,l,c,a,m;return f===C?(e=p(f)+g(f[0].document.documentElement),l=v(o)+p(o)):(e=p(f),i=0,void 0!==v(f)&&(i=v(f)),l=v(o)-i+p(o)),D&&(l=p((o[0].ownerDocument||o[0].document).documentElement)),c=l-e,a=p(f)*h+1>=c,null!=r.infiniteScrollTop&&(m=!!f.height()&&0===f.scrollTop(),a||(a=m)),a?(u=!0,null!=r.infiniteScrollTop&&(t.infiniteScrollTop=m,t.$apply(t.infiniteScrollTop)),T?t.$$phase||n.$$phase?t.infiniteScroll():t.$apply(t.infiniteScroll):void 0):u=!1},w=function(n,e){var l,t,o;return o=null,t=0,l=function(){var e;return t=(new Date).getTime(),i.cancel(o),o=null,n.call(),e=null},function(){var r,c;return r=(new Date).getTime(),c=e-(r-t),0>=c?(clearTimeout(o),i.cancel(o),o=null,t=r,n.call()):o?void 0:o=i(l,c)}},null!=l&&(d=w(d,l)),t.$on("$destroy",function(){return f.off("scroll",d)}),s=function(n){return h=parseFloat(n)||0},t.$watch("infiniteScrollDistance",s),s(t.infiniteScrollDistance),m=function(n){return T=!n,T&&u?(u=!1,d()):void 0},t.$watch("infiniteScrollDisabled",m),m(t.infiniteScrollDisabled),S=function(n){return D=n},t.$watch("infiniteScrollUseDocumentBottom",S),S(t.infiniteScrollUseDocumentBottom),c=function(n){return null!=f&&f.off("scroll",d),f="function"==typeof n.last&&n!==C?n.last():n,null!=n?f.on("scroll",d):void 0},c(C),a=function(n){if(null!=n&&0!==n.length){if(n=angular.element(document.querySelector(n)),null!=n)return c(n);throw new Exception("invalid infinite-scroll-container attribute.")}},t.$watch("infiniteScrollContainer",a),a(t.infiniteScrollContainer||[]),null!=r.infiniteScrollParent&&(E=angular.element(o.parent()),c(E),null!=r.infiniteScrollCustom&&t.infiniteScrollCustom&&E.on("customScroll",function(e,i){return i.scrollPercent>=99?(u=!0,T?t.$$phase||n.$$phase?t.infiniteScroll():t.$apply(t.infiniteScroll):void 0):u=!1})),null!=r.infiniteScrollImmediateCheck&&($=t.$eval(r.infiniteScrollImmediateCheck)),i(function(){return $?d():void 0},0)}}}]);